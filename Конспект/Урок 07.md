# Урок: Повторение SQL, установка DBeaver, PostgreSQL и подключение к базе

## Цели урока

- Повторить основы SQL-запросов.
- Установить и настроить PostgreSQL.
- Установить DBeaver для работы с базами данных.
- Подключиться к своей первой базе данных через DBeaver.
- Научиться создавать и изменять пользователя/пароль в PostgreSQL.

---

##  1️ Установка PostgreSQL

1. Скачайте PostgreSQL с официального сайта: [https://www.postgresql.org/download/windows/](https://www.postgresql.org/download/windows/).
2. Запустите установщик и запомните:
   - Username: `postgres`
   - Password: **ваш пароль** по умолчанию postgres
   - Port: `5432`
3. Установщик предложит выбрать папку для данных и bin — оставьте по умолчанию.

---

## 2️ Настройка переменных среды Windows

1. Откройте **Панель управления → Система → Дополнительные параметры системы → Переменные среды**.
2. В системных переменных добавьте путь к `bin` PostgreSQL, например:

```
C:\Program Files\PostgreSQL\16\bin
```

3. Добавьте переменные PostgreSQL для удобного подключения через терминал: Этот шаг пока пропустим!

```
PGUSER=postgres
PGPASSWORD=ваш_пароль
PGHOST=localhost
PGPORT=5432
PGDATABASE=codemium
```

4. Перезапустите PowerShell или CMD.

---

## 3️⃣ Установка DBeaver

1. Скачайте DBeaver: [https://dbeaver.io/download/](https://dbeaver.io/download/).
2. Установите и запустите.
3. Создайте новое подключение:
   - Database: PostgreSQL
   - Host: localhost
   - Port: 5432
   - Username: postgres
   - Password: ваш пароль
4. Нажмите **Test Connection** — должно показать, что соединение успешно.

---

## 4️⃣ Создание базы данных

В DBeaver или через psql можно создать базу: ! Сделаем вместе сразу для проекта!

```sql
CREATE DATABASE codemium
    WITH OWNER = postgres
    ENCODING = 'UTF8'
    TEMPLATE = template1;
```

Проверка существующих баз:

```sql
\l
```

---

## 5️⃣ Смена пароля пользователя postgres

Если нужно сменить пароль:

1. Подключитесь к PostgreSQL через psql или DBeaver.
2. Выполните команду:

```sql
ALTER USER postgres WITH PASSWORD 'pass';
-- или
ALTER ROLE postgres WITH PASSWORD 'pass';
```

3. Если соединение не удаётся, временно изменить `pg_hba.conf` на метод `trust` для локальных соединений, затем вернуть обратно.
Делали с Владом и Тимой

---

##  Резюме

- Мы повторили SQL-запросы.
- Установили PostgreSQL и DBeaver.
- Создали и подключились к базе данных.
- Научились менять пароль пользователя `postgres`.


---

